{"ast":null,"code":"/*\n    This is our http api for all things auth, which we use to \n    send authorization requests to our back-end API. Note we`re \n    using the Axios library for doing this, which is an easy to \n    use AJAX-based library. We could (and maybe should) use Fetch, \n    which is a native (to browsers) standard, but Axios is easier\n    to use when sending JSON back and forth and it`s a Promise-\n    based API which helps a lot with asynchronous communication.\n    \n    @author McKilla Gorilla\n*/\n\n// Helper function for handling fetch responses\nasync function handleResponse(response) {\n  const data = await response.json().catch(() => ({}));\n  return {\n    status: response.status,\n    data\n  };\n}\nconst BASE_URL = 'http://localhost:4000/auth';\n\n// All requests will include cookies\nconst defaultOptions = {\n  credentials: 'include',\n  headers: {\n    'Content-Type': 'application/json'\n  }\n};\n\n// THESE ARE ALL THE REQUESTS WE`LL BE MAKING, ALL REQUESTS HAVE A\n// REQUEST METHOD (like get) AND PATH (like /register). SOME ALSO\n// REQUIRE AN id SO THAT THE SERVER KNOWS ON WHICH LIST TO DO ITS\n// WORK, AND SOME REQUIRE DATA, WHICH WE WE WILL FORMAT HERE, FOR WHEN\n// WE NEED TO PUT THINGS INTO THE DATABASE OR IF WE HAVE SOME\n// CUSTOM FILTERS FOR QUERIES\n// Get current logged-in user info\n\nexport const getLoggedIn = async () => {\n  const response = await fetch(`${BASE_URL}/loggedIn/`, {\n    ...defaultOptions,\n    method: 'GET'\n  });\n  return handleResponse(response);\n};\n\n// Login user\nexport const loginUser = async (email, password) => {\n  const response = await fetch(`${BASE_URL}/login/`, {\n    ...defaultOptions,\n    method: 'POST',\n    body: JSON.stringify({\n      email,\n      password\n    })\n  });\n  return handleResponse(response);\n};\n\n// Logout user\nexport const logoutUser = async () => {\n  const response = await fetch(`${BASE_URL}/logout/`, {\n    ...defaultOptions,\n    method: 'GET'\n  });\n  return handleResponse(response);\n};\n\n// Register new user\nexport const registerUser = async (firstName, lastName, email, password, passwordVerify) => {\n  const response = await fetch(`${BASE_URL}/register/`, {\n    ...defaultOptions,\n    method: 'POST',\n    body: JSON.stringify({\n      firstName,\n      lastName,\n      email,\n      password,\n      passwordVerify\n    })\n  });\n  return handleResponse(response);\n};\n\n// Export grouped API\nconst apis = {\n  getLoggedIn,\n  registerUser,\n  loginUser,\n  logoutUser\n};\nexport default apis;","map":{"version":3,"names":["handleResponse","response","data","json","catch","status","BASE_URL","defaultOptions","credentials","headers","getLoggedIn","fetch","method","loginUser","email","password","body","JSON","stringify","logoutUser","registerUser","firstName","lastName","passwordVerify","apis"],"sources":["/Users/anya_biswas/Desktop/316-HW4-Playlister-Anya/client/src/auth/requests/index.js"],"sourcesContent":["/*\n    This is our http api for all things auth, which we use to \n    send authorization requests to our back-end API. Note we`re \n    using the Axios library for doing this, which is an easy to \n    use AJAX-based library. We could (and maybe should) use Fetch, \n    which is a native (to browsers) standard, but Axios is easier\n    to use when sending JSON back and forth and it`s a Promise-\n    based API which helps a lot with asynchronous communication.\n    \n    @author McKilla Gorilla\n*/\n\n// Helper function for handling fetch responses\nasync function handleResponse(response) {\n    const data = await response.json().catch(() => ({}));\n    return { status: response.status, data };\n}\n\nconst BASE_URL = 'http://localhost:4000/auth';\n\n// All requests will include cookies\nconst defaultOptions = {\n    credentials: 'include',\n    headers: { 'Content-Type': 'application/json' }\n};\n\n// THESE ARE ALL THE REQUESTS WE`LL BE MAKING, ALL REQUESTS HAVE A\n// REQUEST METHOD (like get) AND PATH (like /register). SOME ALSO\n// REQUIRE AN id SO THAT THE SERVER KNOWS ON WHICH LIST TO DO ITS\n// WORK, AND SOME REQUIRE DATA, WHICH WE WE WILL FORMAT HERE, FOR WHEN\n// WE NEED TO PUT THINGS INTO THE DATABASE OR IF WE HAVE SOME\n// CUSTOM FILTERS FOR QUERIES\n// Get current logged-in user info\n\nexport const getLoggedIn = async () => {\n    const response = await fetch(`${BASE_URL}/loggedIn/`, {\n        ...defaultOptions,\n        method: 'GET'\n    });\n    return handleResponse(response);\n};\n\n// Login user\nexport const loginUser = async (email, password) => {\n    const response = await fetch(`${BASE_URL}/login/`, {\n        ...defaultOptions,\n        method: 'POST',\n        body: JSON.stringify({ email, password })\n    });\n    return handleResponse(response);\n};\n\n// Logout user\nexport const logoutUser = async () => {\n    const response = await fetch(`${BASE_URL}/logout/`, {\n        ...defaultOptions,\n        method: 'GET'\n    });\n    return handleResponse(response);\n};\n\n// Register new user\nexport const registerUser = async (firstName, lastName, email, password, passwordVerify) => {\n    const response = await fetch(`${BASE_URL}/register/`, {\n        ...defaultOptions,\n        method: 'POST',\n        body: JSON.stringify({\n            firstName,\n            lastName,\n            email,\n            password,\n            passwordVerify\n        })\n    });\n    return handleResponse(response);\n};\n\n// Export grouped API\nconst apis = {\n    getLoggedIn,\n    registerUser,\n    loginUser,\n    logoutUser\n};\n\nexport default apis;"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,eAAeA,cAAcA,CAACC,QAAQ,EAAE;EACpC,MAAMC,IAAI,GAAG,MAAMD,QAAQ,CAACE,IAAI,CAAC,CAAC,CAACC,KAAK,CAAC,OAAO,CAAC,CAAC,CAAC,CAAC;EACpD,OAAO;IAAEC,MAAM,EAAEJ,QAAQ,CAACI,MAAM;IAAEH;EAAK,CAAC;AAC5C;AAEA,MAAMI,QAAQ,GAAG,4BAA4B;;AAE7C;AACA,MAAMC,cAAc,GAAG;EACnBC,WAAW,EAAE,SAAS;EACtBC,OAAO,EAAE;IAAE,cAAc,EAAE;EAAmB;AAClD,CAAC;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,OAAO,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;EACnC,MAAMT,QAAQ,GAAG,MAAMU,KAAK,CAAC,GAAGL,QAAQ,YAAY,EAAE;IAClD,GAAGC,cAAc;IACjBK,MAAM,EAAE;EACZ,CAAC,CAAC;EACF,OAAOZ,cAAc,CAACC,QAAQ,CAAC;AACnC,CAAC;;AAED;AACA,OAAO,MAAMY,SAAS,GAAG,MAAAA,CAAOC,KAAK,EAAEC,QAAQ,KAAK;EAChD,MAAMd,QAAQ,GAAG,MAAMU,KAAK,CAAC,GAAGL,QAAQ,SAAS,EAAE;IAC/C,GAAGC,cAAc;IACjBK,MAAM,EAAE,MAAM;IACdI,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MAAEJ,KAAK;MAAEC;IAAS,CAAC;EAC5C,CAAC,CAAC;EACF,OAAOf,cAAc,CAACC,QAAQ,CAAC;AACnC,CAAC;;AAED;AACA,OAAO,MAAMkB,UAAU,GAAG,MAAAA,CAAA,KAAY;EAClC,MAAMlB,QAAQ,GAAG,MAAMU,KAAK,CAAC,GAAGL,QAAQ,UAAU,EAAE;IAChD,GAAGC,cAAc;IACjBK,MAAM,EAAE;EACZ,CAAC,CAAC;EACF,OAAOZ,cAAc,CAACC,QAAQ,CAAC;AACnC,CAAC;;AAED;AACA,OAAO,MAAMmB,YAAY,GAAG,MAAAA,CAAOC,SAAS,EAAEC,QAAQ,EAAER,KAAK,EAAEC,QAAQ,EAAEQ,cAAc,KAAK;EACxF,MAAMtB,QAAQ,GAAG,MAAMU,KAAK,CAAC,GAAGL,QAAQ,YAAY,EAAE;IAClD,GAAGC,cAAc;IACjBK,MAAM,EAAE,MAAM;IACdI,IAAI,EAAEC,IAAI,CAACC,SAAS,CAAC;MACjBG,SAAS;MACTC,QAAQ;MACRR,KAAK;MACLC,QAAQ;MACRQ;IACJ,CAAC;EACL,CAAC,CAAC;EACF,OAAOvB,cAAc,CAACC,QAAQ,CAAC;AACnC,CAAC;;AAED;AACA,MAAMuB,IAAI,GAAG;EACTd,WAAW;EACXU,YAAY;EACZP,SAAS;EACTM;AACJ,CAAC;AAED,eAAeK,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}